module.exports=function(e){var t={};function n(r){var o;return(t[r]||(o=t[r]={i:r,l:!1,exports:{}},e[r].call(o.exports,o,o.exports,n),o.l=!0,o)).exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=23)}([function(e,t){e.exports=require("electron")},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(9);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){n=n(11)(),e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},function(e,t){function n(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(o,i){var a=e.apply(t,r);function c(e){n(a,o,i,c,s,"next",e)}function s(e){n(a,o,i,c,s,"throw",e)}c(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=require("path")},function(e,t,n){e.exports=n(15)},function(e,t){e.exports=require("axios")},function(e,t){e.exports=require("child_process")},function(e,t,n){var r=n(1).default,o=n(10);e.exports=function(e){return e=o(e,"string"),"symbol"==r(e)?e:String(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(1).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if(n=n.call(e,t||"default"),"object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(1).default;e.exports=function(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},o=Object.prototype,i=o.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},c=(E="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",s=E.asyncIterator||"@@asyncIterator",u=E.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(t){l=function(e,t,n){return e[t]=n}}function p(e,n,r,o){var i,c,s,u;n=n&&n.prototype instanceof b?n:b,n=Object.create(n.prototype),o=new C(o||[]);return a(n,"_invoke",{value:(i=e,c=r,s=o,u=f,function(e,n){if(u===m)throw new Error("Generator is already running");if(u===g){if("throw"===e)throw n;return{value:t,done:!0}}for(s.method=e,s.arg=n;;){var r=s.delegate;if(r&&(r=function e(n,r){var o=r.method,i=n.iterator[o];return i===t?(r.delegate=null,"throw"===o&&n.iterator.return&&(r.method="return",r.arg=t,e(n,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+o+"' method")),w):"throw"===(o=d(i,n.iterator,r.arg)).type?(r.method="throw",r.arg=o.arg,r.delegate=null,w):(i=o.arg)?i.done?(r[n.resultName]=i.value,r.next=n.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,w):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,w)}(r,s))){if(r===w)continue;return r}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(u===f)throw u=g,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(u=m,"normal"===(r=d(i,c,s)).type){if(u=s.done?g:h,r.arg===w)continue;return{value:r.arg,done:s.done}}"throw"===r.type&&(u=g,s.method="throw",s.arg=r.arg)}})}),n}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=p;var f="suspendedStart",h="suspendedYield",m="executing",g="completed",w={};function b(){}function y(){}function v(){}var E,x,_=((x=(x=(l(E={},c,(function(){return this})),Object.getPrototypeOf))&&x(x(S([]))))&&x!==o&&i.call(x,c)&&(E=x),v.prototype=b.prototype=Object.create(E));function O(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function M(e,t){var n;a(this,"_invoke",{value:function(o,a){function c(){return new t((function(n,c){!function n(o,a,c,s){var u;if("throw"!==(o=d(e[o],e,a)).type)return(a=(u=o.arg).value)&&"object"==r(a)&&i.call(a,"__await")?t.resolve(a.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(a).then((function(e){u.value=e,c(u)}),(function(e){return n("throw",e,c,s)}));s(o.arg)}(o,a,n,c)}))}return n=n?n.then(c,c):c()}})}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function S(e){if(e||""===e){var n,o=e[c];if(o)return o.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return n=-1,(o=function r(){for(;++n<e.length;)if(i.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=t,r.done=!0,r}).next=o}throw new TypeError(r(e)+" is not iterable")}return a(_,"constructor",{value:y.prototype=v,configurable:!0}),a(v,"constructor",{value:y,configurable:!0}),y.displayName=l(v,u,"GeneratorFunction"),n.isGeneratorFunction=function(e){return!!(e="function"==typeof e&&e.constructor)&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},n.awrap=function(e){return{__await:e}},O(M.prototype),l(M.prototype,s,(function(){return this})),n.AsyncIterator=M,n.async=function(e,t,r,o,i){void 0===i&&(i=Promise);var a=new M(p(e,t,r,o),i);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(_),l(_,u,"Generator"),l(_,c,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},n.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var o=this.tryEntries.length-1;0<=o;--o){var a=this.tryEntries[o],c=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}var a=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,w):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),w},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),w}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,o=this.tryEntries[t];if(o.tryLoc===e)return"throw"===(n=o.completion).type&&(r=n.arg,j(o)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:S(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),w}},n},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("lodash")},function(e,t){e.exports=require("fix-path")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.isInitialized=t.initialize=void 0;var r=n(16);Object.defineProperty(t,"initialize",{enumerable:!0,get:function(){return r.initialize}}),Object.defineProperty(t,"isInitialized",{enumerable:!0,get:function(){return r.isInitialized}}),Object.defineProperty(t,"enable",{enumerable:!0,get:function(){return r.enable}})},function(e,t,n){"use strict";(function(e){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=t.isInitialized=t.enable=t.isRemoteModuleEnabled=void 0;const o=n(18),i=r(n(19)),a=n(20),c=n(0);r=n(21);const s=global.Promise,u=r.getElectronBinding("v8_util"),l=(r=Number(null==(r=null==(r=process.versions.electron)?void 0:r.split("."))?void 0:r[0]),Number.isNaN(r)||r<14),p=["length","name","arguments","caller","prototype"],d=new Map,f=new FinalizationRegistry(e=>{var t=e.id[0]+"~"+e.id[1],n=d.get(t);if(void 0!==n&&void 0===n.deref()&&(d.delete(t),!e.webContents.isDestroyed()))try{e.webContents.sendToFrame(e.frameId,"REMOTE_RENDERER_RELEASE_CALLBACK",e.id[0],e.id[1])}catch(e){console.warn("sendToFrame() failed: "+e)}});function h(e){if(e=e[0]+"~"+e[1],void 0!==(e=d.get(e))&&void 0!==(e=e.deref()))return e}const m=new WeakMap,g=function(e){let t=Object.getOwnPropertyNames(e);return(t="function"==typeof e?t.filter(e=>!p.includes(e)):t).map(t=>{var n=Object.getOwnPropertyDescriptor(e,t);let r,o=!1;return r=void 0===n.get&&"function"==typeof e[t]?"method":((n.set||n.writable)&&(o=!0),"get"),{name:t,enumerable:n.enumerable,writable:o,type:r}})},w=function(e){return null===(e=Object.getPrototypeOf(e))||e===Object.prototype?null:{members:g(e),proto:w(e)}},b=function(e,t,n,r=!1){let o;switch(typeof n){case"object":o=n instanceof Buffer?"buffer":n&&n.constructor&&"NativeImage"===n.constructor.name?"nativeimage":Array.isArray(n)?"array":n instanceof Error?"error":a.isSerializableObject(n)?"value":a.isPromise(n)?"promise":Object.prototype.hasOwnProperty.call(n,"callee")&&null!=n.length?"array":r&&u.getHiddenValue(n,"simple")?"value":"object";break;case"function":o="function";break;default:o="value"}return"array"===o?{type:o,members:n.map(n=>b(e,t,n,r))}:"nativeimage"===o?{type:o,value:a.serialize(n)}:"object"===o||"function"===o?{type:o,name:n.constructor?n.constructor.name:"",id:i.default.add(e,t,n),members:g(n),proto:w(n)}:"buffer"===o?{type:o,value:n}:"promise"===o?(n.then((function(){}),(function(){})),{type:o,then:b(e,t,(function(e,t){n.then(e,t)}))}):"error"===o?{type:o,value:n,members:Object.keys(n).map(r=>({name:r,value:b(e,t,n[r])}))}:{type:"value",value:n}},y=function(e){throw(e=new Error(e)).code="EBADRPC",e.errno=-72,e},v=(e,t)=>{var n;let r="Attempting to call a function in a renderer window that has been closed or released.\nFunction provided here: "+m.get(t);e instanceof o.EventEmitter&&0<(n=e.eventNames().filter(n=>e.listeners(n).includes(t))).length&&(r+="\nRemote event names: "+n.join(", "),n.forEach(n=>{e.removeListener(n,t)})),console.warn(r)},E=(e,t)=>new Proxy(Object,{get:(e,n,r)=>"name"===n?t:Reflect.get(e,n,r)}),x=function(e,t,n,r){return r.map((function r(o){switch(o.type){case"nativeimage":return a.deserialize(o.value);case"value":return o.value;case"remote-object":return i.default.get(o.id);case"array":return x(e,t,n,o.value);case"buffer":return Buffer.from(o.value.buffer,o.value.byteOffset,o.value.byteLength);case"promise":return s.resolve({then:r(o.then)});case"object":var c,u,l="Object"!==o.name?Object.create({constructor:E(0,o.name)}):{};for({name:c,value:u}of o.members)l[c]=r(u);return l;case"function-with-return-value":{const e=r(o.value);return function(){return e}}case"function":{var p=[n,o.id],g=h(p);if(void 0!==g)return g;const r=function(...i){let a=!1;if(!e.isDestroyed())try{a=!1!==e.sendToFrame(t,"REMOTE_RENDERER_CALLBACK",n,o.id,b(e,n,i))}catch(i){console.warn("sendToFrame() failed: "+i)}a||v(this,r)};return m.set(r,o.location),Object.defineProperty(r,"length",{value:o.length}),g=p,p=e,w=t,y=r,_=new WeakRef(y),O=g[0]+"~"+g[1],d.set(O,_),f.register(y,{id:g,webContents:p,frameId:w}),r}default:throw new TypeError("Unknown type: "+o.type)}var w,y,_,O}))},_=new WeakMap;t.isRemoteModuleEnabled=function(e){return l&&!_.has(e)&&_.set(e,function(e){return null!=(e=e.getLastWebPreferences()||{}).enableRemoteModule&&!!e.enableRemoteModule}(e)),_.get(e)},t.enable=function(e){_.set(e,!0)};const O=function(e,n){c.ipcMain.on(e,(e,r,...o)=>{let i;if(t.isRemoteModuleEnabled(e.sender)){try{i=n(e,r,...o)}catch(o){i={type:"exception",value:b(e.sender,r,o)}}void 0!==i&&(e.returnValue=i)}else e.returnValue={type:"exception",value:b(e.sender,r,new Error('@electron/remote is disabled for this WebContents. Call require("@electron/remote/main").enable(webContents) to enable it.'))}})},M=function(e,t,...n){var r={sender:e,returnValue:void 0,defaultPrevented:!1};return c.app.emit(t,r,e,...n),e.emit(t,r,...n),r},R=function(e,t,n){n&&console.warn(`WebContents (${e.id}): `+t,n)};let j=!1;t.isInitialized=function(){return j},t.initialize=function(){if(j)throw new Error("@electron/remote has already been initialized");j=!0,O("REMOTE_BROWSER_WRONG_CONTEXT_ERROR",(function(e,t,n,r){void 0!==(n=h([n,r]))&&v(e.sender,n)})),O("REMOTE_BROWSER_REQUIRE",(function(t,n,r,o){if(R(t.sender,`remote.require('${r}')`,o),void 0===(o=M(t.sender,"remote-require",r)).returnValue){if(o.defaultPrevented)throw new Error(`Blocked remote.require('${r}')`);if(process.mainModule)o.returnValue=process.mainModule.require(r);else{let t=e;for(;t.parent;)t=t.parent;o.returnValue=t.require(r)}}return b(t.sender,n,o.returnValue)})),O("REMOTE_BROWSER_GET_BUILTIN",(function(e,t,r,o){if(R(e.sender,`remote.getBuiltin('${r}')`,o),void 0===(o=M(e.sender,"remote-get-builtin",r)).returnValue){if(o.defaultPrevented)throw new Error(`Blocked remote.getBuiltin('${r}')`);o.returnValue=n(0)[r]}return b(e.sender,t,o.returnValue)})),O("REMOTE_BROWSER_GET_GLOBAL",(function(e,t,n,r){if(R(e.sender,`remote.getGlobal('${n}')`,r),void 0===(r=M(e.sender,"remote-get-global",n)).returnValue){if(r.defaultPrevented)throw new Error(`Blocked remote.getGlobal('${n}')`);r.returnValue=global[n]}return b(e.sender,t,r.returnValue)})),O("REMOTE_BROWSER_GET_CURRENT_WINDOW",(function(e,t,n){if(R(e.sender,"remote.getCurrentWindow()",n),void 0===(n=M(e.sender,"remote-get-current-window")).returnValue){if(n.defaultPrevented)throw new Error("Blocked remote.getCurrentWindow()");n.returnValue=e.sender.getOwnerBrowserWindow()}return b(e.sender,t,n.returnValue)})),O("REMOTE_BROWSER_GET_CURRENT_WEB_CONTENTS",(function(e,t,n){if(R(e.sender,"remote.getCurrentWebContents()",n),void 0===(n=M(e.sender,"remote-get-current-web-contents")).returnValue){if(n.defaultPrevented)throw new Error("Blocked remote.getCurrentWebContents()");n.returnValue=e.sender}return b(e.sender,t,n.returnValue)})),O("REMOTE_BROWSER_CONSTRUCTOR",(function(e,t,n,r){r=x(e.sender,e.frameId,t,r);var o=i.default.get(n);return null==o&&y("Cannot call constructor on missing remote object "+n),b(e.sender,t,new o(...r))})),O("REMOTE_BROWSER_FUNCTION_CALL",(function(e,t,n,r){r=x(e.sender,e.frameId,t,r);var o=i.default.get(n);null==o&&y("Cannot call function on missing remote object "+n);try{return b(e.sender,t,o(...r),!0)}catch(e){throw(n=new Error(`Could not call remote function '${o.name||"anonymous"}'. Check that the function signature is correct. Underlying error: ${e}\n`+(e instanceof Error?`Underlying stack: ${e.stack}\n`:""))).cause=e,n}})),O("REMOTE_BROWSER_MEMBER_CONSTRUCTOR",(function(e,t,n,r,o){o=x(e.sender,e.frameId,t,o);var a=i.default.get(n);return null==a&&y(`Cannot call constructor '${r}' on missing remote object `+n),b(e.sender,t,new a[r](...o))})),O("REMOTE_BROWSER_MEMBER_CALL",(function(e,t,n,r,o){o=x(e.sender,e.frameId,t,o);var a=i.default.get(n);null==a&&y(`Cannot call method '${r}' on missing remote object `+n);try{return b(e.sender,t,a[r](...o),!0)}catch(e){throw(n=new Error(`Could not call remote method '${r}'. Check that the method signature is correct. Underlying error: `+e+(e instanceof Error?`Underlying stack: ${e.stack}\n`:""))).cause=e,n}})),O("REMOTE_BROWSER_MEMBER_SET",(function(e,t,n,r,o){return o=x(e.sender,e.frameId,t,o),null==(e=i.default.get(n))&&y(`Cannot set property '${r}' on missing remote object `+n),e[r]=o[0],null})),O("REMOTE_BROWSER_MEMBER_GET",(function(e,t,n,r){var o=i.default.get(n);return null==o&&y(`Cannot get property '${r}' on missing remote object `+n),b(e.sender,t,o[r])})),O("REMOTE_BROWSER_DEREFERENCE",(function(e,t,n){i.default.remove(e.sender,t,n)})),O("REMOTE_BROWSER_CONTEXT_RELEASE",(e,t)=>(i.default.clear(e.sender,t),null))}}).call(this,n(17)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){e.exports=require("events")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=(e,t)=>e.id+"-"+t;t.default=new class{constructor(){this.nextId=0,this.storage={},this.owners={},this.electronIds=new WeakMap}add(e,t,n){n=this.saveToStorage(n);var o=r(e,t);let i=this.owners[o];return i||(i=this.owners[o]=new Map,this.registerDeleteListener(e,t)),i.has(n)||(i.set(n,0),this.storage[n].count++),i.set(n,i.get(n)+1),n}get(e){if(null!=(e=this.storage[e]))return e.object}remove(e,t,n){e=r(e,t);(t=this.owners[e])&&t.has(n)&&((e=t.get(n)-1)<=0?(t.delete(n),this.dereference(n)):t.set(n,e))}clear(e,t){if(e=r(e,t),t=this.owners[e]){for(const e of t.keys())this.dereference(e);delete this.owners[e]}}saveToStorage(e){let t=this.electronIds.get(e);return t||(t=++this.nextId,this.storage[t]={count:0,object:e},this.electronIds.set(e,t)),t}dereference(e){var t=this.storage[e];null!=t&&(--t.count,0===t.count)&&(this.electronIds.delete(t.object),delete this.storage[e])}registerDeleteListener(e,t){const n=t.split("-")[0],r=(o,i)=>{i&&i.toString()===n&&(e.removeListener("render-view-deleted",r),this.clear(e,t))};e.on("render-view-deleted",r)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deserialize=t.serialize=t.isSerializableObject=t.isPromise=void 0;const r=n(0);t.isPromise=function(e){return e&&e.then&&e.then instanceof Function&&e.constructor&&e.constructor.reject&&e.constructor.reject instanceof Function&&e.constructor.resolve&&e.constructor.resolve instanceof Function};const o=[Boolean,Number,String,Date,Error,RegExp,ArrayBuffer];function i(e){return null===e||ArrayBuffer.isView(e)||o.some(t=>e instanceof t)}function a(e,t){return e=Object.entries(e).map(([e,n])=>[e,t(n)]),Object.fromEntries(e)}t.isSerializableObject=i,t.serialize=function e(t){if(t&&t.constructor&&"NativeImage"===t.constructor.name){var n=t,r=[],o=n.getScaleFactors();if(1===o.length){var c=o[0],s=n.getSize(c),u=n.toBitmap({scaleFactor:c});r.push({scaleFactor:c,size:s,buffer:u})}else for(const e of o){var l=n.getSize(e),p=n.toDataURL({scaleFactor:e});r.push({scaleFactor:e,size:l,dataURL:p})}return{__ELECTRON_SERIALIZED_NativeImage__:!0,representations:r}}return Array.isArray(t)?t.map(e):!i(t)&&t instanceof Object?a(t,e):t},t.deserialize=function e(t){if(t&&t.__ELECTRON_SERIALIZED_NativeImage__){var n=t,o=r.nativeImage.createEmpty();if(1===n.representations.length){var{buffer:c,size:s,scaleFactor:u}=n.representations[0],{width:s,height:l}=s;o.addRepresentation({buffer:c,scaleFactor:u,width:s,height:l})}else for(const e of n.representations){var{dataURL:p,size:d,scaleFactor:f}=e,{width:d,height:h}=d;o.addRepresentation({dataURL:p,scaleFactor:f,width:d,height:h})}return o}return Array.isArray(t)?t.map(e):!i(t)&&t instanceof Object?a(t,e):t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getElectronBinding=void 0,t.getElectronBinding=e=>process._linkedBinding?process._linkedBinding("electron_common_"+e):process.electronBinding?process.electronBinding(e):null},function(e,t){e.exports=require("electron-window-bounds")},function(e,t,n){"use strict";n.r(t);t=n(2);var r=n.n(t),o=(t=n(4),n.n(t)),i=(t=n(1),n.n(t)),a=(t=n(3),n.n(t)),c=(t=n(7),n.n(t)),s=n(0),u=n(8),l="xanadu-user-config";function p(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f,h,m,g=process.execPath,w=n(5),b=n(12),y=(t=(n(13),n(14)),JSON.parse(b.readFileSync(w.join(__dirname,"../../","package.json"),"utf-8"))),v=(global.sharedObject={appVersion:y.version,grantCode:y.grant_code,productName:y.productName,panel:y.panel},global.__static=n(5).join(__dirname,"/static").replace(/\\/g,"\\\\"),t(),s.app.disableHardwareAcceleration(),s.app.commandLine.appendSwitch("disable-features","OutOfBlinkCors"),"darwin"===process.platform&&s.app.dock.hide(),s.app.on("ready",(function(){s.globalShortcut.register("Alt+F4",(function(){var e=s.BrowserWindow.getFocusedWindow();e&&e.hide()}))})),"file://".concat(__dirname,"/index.html"));function E(){var e,t;function u(){f.webContents.executeJavaScript("localStorage.getItem('"+l+"')",!0).then((function(e){var t=(e=JSON.parse(e)).mixedPort,n=(e=e.mixedPort,"http://127.0.0.1");s.clipboard.writeText("export https_proxy=".concat(n,":").concat(t,";export http_proxy=").concat(n,":").concat(t,";export all_proxy=socks5://127.0.0.1:").concat(e))}))}function p(){var e,t,n,o;h||((o=s.nativeImage.createFromPath(w.join(__static,"tray","mac2.png")).resize({width:22,height:22})).setTemplateImage(!0),n=w.join(__static,"icons","icon.ico"),o=r()(r()(r()({},"win32",n),"darwin",o),"linux",n)[process.platform],(h=new s.Tray(o)).setToolTip(y.productName),n=new s.MenuItem({label:"显示主窗口",click:function(){return f.show()}}),E.append(n),E.append(new s.MenuItem({type:"separator"})),e=new s.MenuItem({label:"开启全局",type:"checkbox",checked:!1,click:function(e){f.webContents.send("changeGlobalMode",e.checked)}}),E.append(e),o=new s.MenuItem({label:"启动代理",type:"checkbox",checked:!1,click:function(e){f.webContents.send("startConnect",e.checked)}}),E.append(o),E.append(new s.MenuItem({type:"separator"})),t=new s.MenuItem({label:"切换节点",tip:"proxy",submenu:x}),E.append(t),"darwin"===process.platform&&(E.append(new s.MenuItem({type:"separator"})),n=new s.MenuItem({label:"复制终端代理命令",click:u}),E.append(n)),o=new s.MenuItem({label:"退出",click:function(){f.webContents.send("app-exit"),setTimeout((function(){s.app.isQuiting=!0,s.app.quit()}),3e3)}}),E.append(new s.MenuItem({type:"separator"})),E.append(o),h.setContextMenu(E),h.on("click",(function(){"win32"===process.platform&&(f.show(),f.setAlwaysOnTop(!0))})),s.ipcMain.on("sync-clash-node",(function(e,t){0===x.items.length&&t&&0<t.length&&t.forEach((function(e){var t=w.join(__static,"/flags/"+e.flag+".png");t=s.nativeImage.createFromPath(t).resize({width:16,height:16}),e=new s.MenuItem({label:e.name,type:"checkbox",flag:e.flag,checked:!1,icon:t,click:function(e){x.items.forEach((function(e){e.checked&&(e.checked=!1)})),f.webContents.send("changeProxy",{name:e.label,flag:e.flag})}});h.setContextMenu(E),x.append(e)}))})),s.ipcMain.on("sync-clash-proxy-name",(function(e,n){x.items.forEach((function(e){e.label===n?e.checked=!0:e.checked=!1})),t.label=n,h.setContextMenu(E)})),s.ipcMain.on("change-global-mode",(function(t,n){e.checked="global"===n})))}f=new s.BrowserWindow({height:520,width:800,resizable:!1,backgroundColor:"#FFFFFF",useContentSize:!0,transparent:!0,show:!0,minimizable:!0,maximizable:!1,titleBarStyle:"darwin"===process.platform?"hiddenInset":"default",trafficLightPosition:{x:10,y:12},frame:!1,icon:"linux"===process.platform?w.join(__static,"imgs","icon_512.png"):void 0,webPreferences:{nodeIntegration:!0,webSecurity:!0,nodeIntegrationInWorker:!1,contextIsolation:!1}}),n(6).initialize(),n(6).enable(f.webContents),f.setMenu(null),f.webContents.setWindowOpenHandler((function(e){return e.url,{action:"allow",overrideBrowserWindowOptions:{webPreferences:{session:s.session.fromPartition("".concat((new Date).getTime()))}}}})),f.webContents.on("console-message",(function(e,t,n,r){try{f.webContents.send("console-message",t,"object"===i()(n)?JSON.stringify(n,null,2):n,r)}catch(e){}})),f.webContents.on("will-navigate",(function(e){return e.preventDefault()})),f.loadURL(v,{userAgent:"Shadowfly/".concat(s.app.getVersion())}),f.webContents.on("render-process-gone",(e=o()(a.a.mark((function e(t,n){var r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.reason,"darwin"===process.platform)return e.abrupt("return");e.next=3;break;case 3:if("crashed"===r)return o={type:"error",title:"index",message:"Dashboard has crashed!",buttons:["Reload","Exit"]},e.next=7,s.dialog.showMessageBox(f,o);e.next=10;break;case 7:0===(o=e.sent).response?(s.app.relaunch(),s.app.exit(0)):s.app.quit();case 10:case"end":return e.stop()}}),e)}))),function(t,n){return e.apply(this,arguments)})),s.ipcMain.handle("start-download",(function(e,t,n){f.webContents.downloadURL(t),m=n})),f.webContents.session.on("will-download",(function(e,t,n){m&&(t.setSavePath(m),t.on("updated",(function(e,n){"interrupted"===n?f.webContents.send("download","interrupted"):"progressing"===n&&(t.isPaused()?f.webContents.send("download","paused"):f.webContents.send("download","downloading",t.getReceivedBytes()/t.getTotalBytes()))})),t.once("done",(function(e,t){"completed"===t?f.webContents.send("download","completed"):f.webContents.send("download","failed",t)})),m=null)})),s.ipcMain.on("getSharedObject",(function(e,t){t?e.returnValue=global.sharedObject[t]:e.reply("getSharedObjectReply",global.sharedObject)})),s.ipcMain.handle("app",(function(e,t){for(var n=arguments.length,r=new Array(2<n?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];switch(t){case"isPackaged":return s.app.isPackaged;case"getPath":return s.app.getPath.apply(s.app,r);case"getAppPath":return s.app.getAppPath();case"getName":return s.app.getName();case"getVersion":return s.app.getVersion();case"setLoginItemSettings":return s.app.setLoginItemSettings.apply(s.app,r);case"relaunch":return s.app.relaunch();case"exit":return s.app.exit.apply(s.app,r);case"quit":return s.app.quit();case"getLocale":return s.app.getLocale()}})),s.ipcMain.handle("window",(function(e,t){for(var n=arguments.length,r=new Array(2<n?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];switch(t){case"close":return f.close();case"minimize":return f.minimize();case"maximize":return f.maximize();case"unmaximize":return f.unmaximize();case"setAlwaysOnTop":return f.setAlwaysOnTop.apply(f,r);case"setTitleBarOverlay":return f.setTitleBarOverlay.apply(f,r);case"reload":return f.reload()}})),f.on("hide",(function(){f.webContents.send("window-event","hide")})),f.on("show",(function(){"darwin"===process.platform&&s.app.dock.show(),f.webContents.send("window-event","show")})),f.on("focus",(function(){f.webContents.send("window-event","focus")})),f.on("close",(function(e){return s.app.isQuiting?(s.globalShortcut.unregisterAll(),s.app.exit()):(e.preventDefault(),f.webContents.send("window-event","close"),h?(f.blur(),f.hide(),"darwin"===process.platform&&s.app.dock.hide()):f.minimize()),!1})),f.on("maximize",(function(e){f.webContents.send("window-event","maximize")})),f.on("unmaximize",(function(e){f.webContents.send("window-event","unmaximize")})),f.on("session-end",(function(e){e.preventDefault(),f.webContents.send("app-exit")})),s.ipcMain.handle("webContent",(function(e,t){if("toggleDevTools"===t)return f.webContents.toggleDevTools()})),s.ipcMain.handle("dialog",(t=o()(a.a.mark((function e(t,n){var r,o,i,c=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=c.length,o=new Array(2<r?r-2:0),i=2;i<r;i++)o[i-2]=c[i];e.t0=n,e.next="showMessageBox"===e.t0?4:"showOpenDialogSync"===e.t0?7:8;break;case 4:return e.next=6,s.dialog.showMessageBox.apply(s.dialog,[f].concat(o));case 6:return e.abrupt("return",e.sent);case 7:return e.abrupt("return",s.dialog.showOpenDialogSync.apply(s.dialog,[f].concat(o)));case 8:case"end":return e.stop()}}),e)}))),function(e,n){return t.apply(this,arguments)})),s.ipcMain.handle("globalShortcut",(function(e,t){for(var n=arguments.length,r=new Array(2<n?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];switch(t){case"register":return s.globalShortcut.register(r[0],(function(){f.webContents.send("shortcut-pressed",r[0])}));case"unregister":return s.globalShortcut.unregister.apply(s.globalShortcut,r);case"isRegistered":return s.globalShortcut.isRegistered.apply(s.globalShortcut,r)}})),s.ipcMain.handle("nativeTheme",(function(e,t){if("shouldUseDarkColors"===t)return s.nativeTheme.shouldUseDarkColors})),s.nativeTheme.on("updated",(function(){f.webContents.send("native-theme-updated",s.nativeTheme.shouldUseDarkColors)})),s.ipcMain.handle("powerSaveBlocker",(function(e,t){for(var n,r=arguments.length,o=new Array(2<r?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];switch(t){case"start":return(n=powerSaveBlocker).start.apply(n,o);case"stop":return(n=powerSaveBlocker).stop.apply(n,o)}})),s.powerMonitor.on("suspend",(function(){f.webContents.send("power-event","suspend")})),s.powerMonitor.on("resume",(function(){f.webContents.send("power-event","resume")})),s.ipcMain.handle("window-control",(function(e,t){switch(t){case"hide":s.app.quit();break;case"show":f.show();break;case"show-or-hide":f.isVisible()&&f.isFocused()?s.app.quit():f.show()}})),s.ipcMain.on("cleanup-done",(function(e){s.app.isQuiting=!0,s.app.quit()})),s.ipcMain.on("status-changed",(function(e,t){try{"darwin"!==process.platform&&h.setImage(t)}catch(e){}})),s.ipcMain.on("show-notification",(function(e,t){var n=w.join(global.__static,"imgs/logo_64.png"),r=(n=new s.Notification(d(d({},t),{},{icon:"darwin"!==process.platform?s.nativeImage.createFromPath(n):null})),t.folder),o=t.url;r&&n.on("click",(function(){s.shell.openPath(t.folder)})),o&&n.on("click",(function(){s.shell.openExternal(o)})),n.show()})),s.ipcMain.on("autoOpen",(function(e,t){console.log("autoOpen",!0===t),!0===t?(s.app.setLoginItemSettings({openAtLogin:!0,path:g,args:[]}),b.writeFile(s.app.getPath("userData")+"/auto.txt",JSON.stringify({status:!0}),(function(e){}))):(s.app.setLoginItemSettings({openAtLogin:!1,path:g,args:[]}),b.writeFile(s.app.getPath("userData")+"/auto.txt",JSON.stringify({status:!1}),(function(e){})))})),s.ipcMain.on("clash-core-info",(function(e,t){var n=t.port;t=t.secret;0<n&&c.a.create({baseURL:"http://127.0.0.1:".concat(n,"/"),timeout:1e3,headers:{Authorization:"Bearer ".concat(t)}})})),s.ipcMain.on("min",(function(){f.minimize()})),s.ipcMain.on("closewin",(function(){"darwin"===process.platform?f.minimize():f.hide()})),s.ipcMain.handle("connecting",(function(e,t){var n;"darwin"===process.platform&&h&&((n=s.nativeImage.createFromPath(w.join(__static,"tray","mac".concat(t?"":"2",".png"))).resize({width:22,height:22})).setTemplateImage(!0),h.setImage(n),E.items.forEach((function(e){"启动代理"===e.label&&(e.checked=t)})))}));var E=new s.Menu,x=new s.Menu,_=(p(),s.ipcMain.handle("tray-create-destroy",(function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"create";"create"===t&&p(),"destroy"===t&&h&&(h.destroy(),h=null)})),s.ipcMain.on("sync-local-flow",(function(e,t){var n=t[1];t=t[0],t="↑".concat(t," ↓").concat(n);h.setTitle(t)})),s.ipcMain.on("clash-core-status-change",(function(e,t){})),s.ipcMain.handle("tray-proxies-style",(function(e,t){})),s.ipcMain.on("system-proxy-changed",(function(e,t){})),s.ipcMain.on("enhanced-tray-click",(function(){f.show()})),[{label:s.app.name,submenu:[{role:"about"},{type:"separator"},{role:"services"},{type:"separator"},{role:"hide"},{role:"hideothers"},{role:"unhide"},{label:"Close",accelerator:"Command+W",click:function(){}},{type:"separator"},{label:"Quit",accelerator:"Command+Q",click:function(){f.webContents.send("app-exit")}}]},{role:"editMenu"},{label:"View",submenu:[{role:"forceReload"},{role:"toggleDevTools"}]},{role:"windowMenu"}]);s.Menu.setApplicationMenu(s.Menu.buildFromTemplate(_))}t=s.app.requestSingleInstanceLock(),s.app.on("open-url",(function(e,t){f.webContents.send("app-open",[t])})),t?(s.app.on("second-instance",(function(e,t,n){f&&(f.webContents.send("app-open",t),f.isMinimized()&&f.restore(),f.show())})),s.app.on("ready",(function(){var e;n(22).init(),s.powerMonitor.on("shutdown",(function(e){e.preventDefault(),f.webContents.send("app-exit"),setTimeout((function(){s.app.isQuiting=!0,s.app.quit()}),5e3)})),"win32"===process.platform&&(e=(e=process.resourcesPath).replaceAll("\\","/"),e=w.resolve(w.join(e,"static","files","win","common","sysproxy.exe")),Object(u.exec)('"'.concat(e,'" set 1'))),E()}))):s.app.quit(),s.app.on("activate",(function(){null===f?E():f.show()})),s.ipcMain.on("openMini",(function(e,t){var n=f.getBounds(),r=Math.round(n.x+(n.width-t.w)/2),o=(n=Math.round(n.y+(n.height-t.h)/2),new s.BrowserWindow({width:t.w,height:t.h,x:r,y:n,resizable:!1,parent:f,webPreferences:{nodeIntegration:!1},titleBarStyle:"darwin"===process.platform?"hiddenInset":"default"}));o.loadURL(t.url),o.on("closed",(function(){o=null}))}))}]);